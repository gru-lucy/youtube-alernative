(function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):(e=e||self,r(e.LZMA={}))})(globalThis.exports,(function(e){"use strict";var r=1,t=2,o=3,n="function"==typeof setImmediate?setImmediate:setTimeout,s=4294967296,i=[4294967295,-s],_=[0,-0x8000000000000000],a=[0,0],c=[1,0];function u(e,r){postMessage({action:o,cbn:r,result:e})}function f(e){var r=[];return r[e-1]=void 0,r}function m(e,r){return h(e[0]+r[0],e[1]+r[1])}function d(e,r){return B(~~Math.max(Math.min(e[1]/s,2147483647),-2147483648)&~~Math.max(Math.min(r[1]/s,2147483647),-2147483648),v(e)&v(r))}function p(e,r){var t,o;return e[0]==r[0]&&e[1]==r[1]?0:(t=e[1]<0,o=r[1]<0,t&&!o?-1:!t&&o?1:M(e,r)[1]<0?-1:1)}function h(e,r){var t,o;for(r%=0x10000000000000000,e%=0x10000000000000000,t=r%s,o=Math.floor(e/s)*s,r=r-t+o,e=e-o+t;e<0;)e+=s,r-=s;for(;e>4294967295;)e-=s,r+=s;for(r%=0x10000000000000000;r>0x7fffffff00000000;)r-=0x10000000000000000;for(;r<-0x8000000000000000;)r+=0x10000000000000000;return[e,r]}function P(e,r){return e[0]==r[0]&&e[1]==r[1]}function l(e){return e>=0?[e,0]:[e+s,-s]}function v(e){return e[0]>=2147483648?~~Math.max(Math.min(e[0]-s,2147483647),-2147483648):~~Math.max(Math.min(e[0],2147483647),-2147483648)}function B(e,r){var t,o;return t=e*s,o=r,r<0&&(o+=s),[o,t]}function S(e){return e<=30?1<<e:S(30)*S(e-30)}function g(e,r){var t,o,n,i;if(r&=63,P(e,_))return r?a:e;if(e[1]<0)throw new Error("Neg");return i=S(r),o=e[1]*i%0x10000000000000000,n=e[0]*i,t=n-n%s,o+=t,n-=t,o>=0x8000000000000000&&(o-=0x10000000000000000),[n,o]}function k(e,r){var t;return r&=63,t=S(r),h(Math.floor(e[0]/t),e[1]/t)}function R(e,r){var t;return r&=63,t=k(e,r),e[1]<0&&(t=m(t,g([2,0],63-r))),t}function M(e,r){return h(e[0]-r[0],e[1]-r[1])}function b(e,r){return e.buf=r,e.pos=0,e.count=r.length,e}function D(e){return e.pos>=e.count?-1:255&e.buf[e.pos++]}function y(e,r,t,o){return e.pos>=e.count?-1:(o=Math.min(o,e.count-e.pos),F(e.buf,e.pos,r,t,o),e.pos+=o,o)}function w(e){return e.buf=f(32),e.count=0,e}function E(e){var r=e.buf;return r.length=e.count,r}function C(e,r){e.buf[e.count++]=r<<24>>24}function L(e,r,t,o){F(r,t,e.buf,e.count,o),e.count+=o}function z(e,r,t,o,n){var s;for(s=r;s<t;++s)o[n++]=e.charCodeAt(s)}function F(e,r,t,o,n){for(var s=0;s<n;++s)t[o+s]=e[r+s]}function I(e,r){Je(r,1<<e.s),r._numFastBytes=e.f,Qe(r,e.m),r._numLiteralPosStateBits=0,r._numLiteralContextBits=3,r._posStateBits=2,r._posStateMask=3}function x(e,r,t,o,n){var s,_;if(p(o,i)<0)throw new Error("invalid length "+o);for(e.length_0=o,s=Oe({}),I(n,s),Ue(s,t),_=0;_<64;_+=8)C(t,255&v(k(o,_)));e.chunker=(s._needReleaseMFStream=0,s._inStream=r,s._finished=0,Ne(s),s._rangeEncoder.Stream=t,Ve(s),He(s),Ae(s),s._lenEncoder._tableSize=s._numFastBytes+1-2,cr(s._lenEncoder,1<<s._posStateBits),s._repMatchLenEncoder._tableSize=s._numFastBytes+1-2,cr(s._repMatchLenEncoder,1<<s._posStateBits),s.nowPos64=a,ce({},s))}function N(e,r,t){return e.output=w({}),x(e,b({},r),e.output,l(r.length),t),e}function O(e,r,t){var o,n,s,_,a="",c=[];for(n=0;n<5;++n){if(s=D(r),-1==s)throw new Error("truncated input");c[n]=s<<24>>24}if(o=le({}),!Be(o,c))throw new Error("corrupted input");for(n=0;n<64;n+=8){if(s=D(r),-1==s)throw new Error("truncated input");s=s.toString(16),1==s.length&&(s="0"+s),a=s+""+a}/^0+$|^f+$/i.test(a)?e.length_0=i:(_=parseInt(a,16),e.length_0=_>4294967295?i:l(_)),e.chunker=he(o,r,t,e.length_0)}function A(e,r){return e.output=w({}),O(e,b({},r),e.output),e}function H(e,r,t,o){var n;e._keepSizeBefore=r,e._keepSizeAfter=t,n=r+t+o,(null==e._bufferBase||e._blockSize!=n)&&(e._bufferBase=null,e._blockSize=n,e._bufferBase=f(e._blockSize)),e._pointerToLastSafePosition=e._blockSize-t}function G(e,r){return e._bufferBase[e._bufferOffset+e._pos+r]}function W(e,r,t,o){var n,s;for(e._streamEndWasReached&&e._pos+r+o>e._streamPos&&(o=e._streamPos-(e._pos+r)),++t,s=e._bufferOffset+e._pos+r,n=0;n<o&&e._bufferBase[s+n]==e._bufferBase[s+n-t];++n);return n}function T(e){return e._streamPos-e._pos}function Y(e){var r,t,o;for(o=e._bufferOffset+e._pos-e._keepSizeBefore,o>0&&--o,t=e._bufferOffset+e._streamPos-o,r=0;r<t;++r)e._bufferBase[r]=e._bufferBase[o+r];e._bufferOffset-=o}function j(e){var r;e._pos+=1,e._pos>e._posLimit&&(r=e._bufferOffset+e._pos,r>e._pointerToLastSafePosition&&Y(e),V(e))}function V(e){var r,t,o;if(!e._streamEndWasReached)for(;;){if(o=-e._bufferOffset+e._blockSize-e._streamPos,!o)return;if(r=y(e._stream,e._bufferBase,e._bufferOffset+e._streamPos,o),-1==r)return e._posLimit=e._streamPos,t=e._bufferOffset+e._posLimit,t>e._pointerToLastSafePosition&&(e._posLimit=e._pointerToLastSafePosition-e._bufferOffset),void(e._streamEndWasReached=1);e._streamPos+=r,e._streamPos>=e._pos+e._keepSizeAfter&&(e._posLimit=e._streamPos-e._keepSizeAfter)}}function Z(e,r){e._bufferOffset+=r,e._posLimit-=r,e._pos-=r,e._streamPos-=r}var $=function(){var e,r,t,o=[];for(e=0;e<256;++e){for(t=e,r=0;r<8;++r)0!=(1&t)?(t>>>=1,t^=-306674912):t>>>=1;o[e]=t}return o}();function K(e,r,t,o,n){var s,i,_;r<1073741567&&(e._cutValue=16+(o>>1),_=256+~~((r+t+o+n)/2),H(e,r+t,o+n,_),e._matchMaxLen=o,s=r+1,e._cyclicBufferSize!=s&&(e._son=f(2*(e._cyclicBufferSize=s))),i=65536,e.HASH_ARRAY&&(i=r-1,i|=i>>1,i|=i>>2,i|=i>>4,i|=i>>8,i>>=1,i|=65535,i>16777216&&(i>>=1),e._hashMask=i,i+=1,i+=e.kFixHashSize),i!=e._hashSizeSum&&(e._hash=f(e._hashSizeSum=i)))}function q(e,r){var t,o,n,s,i,_,a,c,u,f,m,d,p,h,P,l,v,B,S,g,k;if(e._pos+e._matchMaxLen<=e._streamPos)h=e._matchMaxLen;else if(h=e._streamPos-e._pos,h<e.kMinMatchCheck)return Q(e),0;for(v=0,P=e._pos>e._cyclicBufferSize?e._pos-e._cyclicBufferSize:0,o=e._bufferOffset+e._pos,l=1,c=0,u=0,e.HASH_ARRAY?(k=$[255&e._bufferBase[o]]^255&e._bufferBase[o+1],c=1023&k,k^=(255&e._bufferBase[o+2])<<8,u=65535&k,f=(k^$[255&e._bufferBase[o+3]]<<5)&e._hashMask):f=255&e._bufferBase[o]^(255&e._bufferBase[o+1])<<8,n=e._hash[e.kFixHashSize+f]||0,e.HASH_ARRAY&&(s=e._hash[c]||0,i=e._hash[1024+u]||0,e._hash[c]=e._pos,e._hash[1024+u]=e._pos,s>P&&e._bufferBase[e._bufferOffset+s]==e._bufferBase[o]&&(r[v++]=l=2,r[v++]=e._pos-s-1),i>P&&e._bufferBase[e._bufferOffset+i]==e._bufferBase[o]&&(i==s&&(v-=2),r[v++]=l=3,r[v++]=e._pos-i-1,s=i),0!=v&&s==n&&(v-=2,l=1)),e._hash[e.kFixHashSize+f]=e._pos,S=1+(e._cyclicBufferPos<<1),g=e._cyclicBufferPos<<1,d=p=e.kNumHashDirectBytes,0!=e.kNumHashDirectBytes&&n>P&&e._bufferBase[e._bufferOffset+n+e.kNumHashDirectBytes]!=e._bufferBase[o+e.kNumHashDirectBytes]&&(r[v++]=l=e.kNumHashDirectBytes,r[v++]=e._pos-n-1),t=e._cutValue;;){if(n<=P||0==t){t-=1,e._son[S]=e._son[g]=0;break}if(a=e._pos-n,_=(a<=e._cyclicBufferPos?e._cyclicBufferPos-a:e._cyclicBufferPos-a+e._cyclicBufferSize)<<1,B=e._bufferOffset+n,m=d<p?d:p,e._bufferBase[B+m]==e._bufferBase[o+m]){for(;(m+=1)!=h&&e._bufferBase[B+m]==e._bufferBase[o+m];);if(l<m&&(r[v++]=l=m,r[v++]=a-1,m==h)){e._son[g]=e._son[_],e._son[S]=e._son[_+1];break}}(255&e._bufferBase[B+m])<(255&e._bufferBase[o+m])?(e._son[g]=n,g=_+1,n=e._son[g],p=m):(e._son[S]=n,S=_,n=e._son[S],d=m)}return Q(e),v}function J(e){e._bufferOffset=0,e._pos=0,e._streamPos=0,e._streamEndWasReached=0,V(e),e._cyclicBufferPos=0,Z(e,-1)}function Q(e){var r;(e._cyclicBufferPos+=1)>=e._cyclicBufferSize&&(e._cyclicBufferPos=0),j(e),1073741823==e._pos&&(r=e._pos-e._cyclicBufferSize,U(e._son,2*e._cyclicBufferSize,r),U(e._hash,e._hashSizeSum,r),Z(e,r))}function U(e,r,t){var o,n;for(o=0;o<r;++o)n=e[o]||0,n<=t?n=0:n-=t,e[o]=n}function X(e,r){e.HASH_ARRAY=r>2,e.HASH_ARRAY?(e.kNumHashDirectBytes=0,e.kMinMatchCheck=4,e.kFixHashSize=66560):(e.kNumHashDirectBytes=2,e.kMinMatchCheck=3,e.kFixHashSize=0)}function ee(e,r){var t,o,n,s,i,_,a,c,u,f,m,d,p,h,P,l,v;do{if(e._pos+e._matchMaxLen<=e._streamPos)d=e._matchMaxLen;else if(d=e._streamPos-e._pos,d<e.kMinMatchCheck){Q(e);continue}for(p=e._pos>e._cyclicBufferSize?e._pos-e._cyclicBufferSize:0,o=e._bufferOffset+e._pos,e.HASH_ARRAY?(v=$[255&e._bufferBase[o]]^255&e._bufferBase[o+1],_=1023&v,e._hash[_]=e._pos,v^=(255&e._bufferBase[o+2])<<8,a=65535&v,e._hash[1024+a]=e._pos,c=(v^$[255&e._bufferBase[o+3]]<<5)&e._hashMask):c=255&e._bufferBase[o]^(255&e._bufferBase[o+1])<<8,n=e._hash[e.kFixHashSize+c],e._hash[e.kFixHashSize+c]=e._pos,P=1+(e._cyclicBufferPos<<1),l=e._cyclicBufferPos<<1,f=m=e.kNumHashDirectBytes,t=e._cutValue;;){if(n<=p||0==t){t-=1,e._son[P]=e._son[l]=0;break}if(i=e._pos-n,s=(i<=e._cyclicBufferPos?e._cyclicBufferPos-i:e._cyclicBufferPos-i+e._cyclicBufferSize)<<1,h=e._bufferOffset+n,u=f<m?f:m,e._bufferBase[h+u]==e._bufferBase[o+u]){for(;(u+=1)!=d&&e._bufferBase[h+u]==e._bufferBase[o+u];);if(u==d){e._son[l]=e._son[s],e._son[P]=e._son[s+1];break}}(255&e._bufferBase[h+u])<(255&e._bufferBase[o+u])?(e._son[l]=n,l=s+1,n=e._son[l],m=u):(e._son[P]=n,P=s,n=e._son[P],f=u)}Q(e)}while(0!=(r-=1))}function re(e,r,t){var o=e._pos-r-1;for(o<0&&(o+=e._windowSize);0!=t;t-=1)o>=e._windowSize&&(o=0),e._buffer[e._pos]=e._buffer[o],e._pos+=1,o+=1,e._pos>=e._windowSize&&oe(e)}function te(e,r){(null==e._buffer||e._windowSize!=r)&&(e._buffer=f(r)),e._windowSize=r,e._pos=0,e._streamPos=0}function oe(e){var r=e._pos-e._streamPos;!r||(L(e._stream,e._buffer,e._streamPos,r),e._pos>=e._windowSize&&(e._pos=0),e._streamPos=e._pos)}function ne(e,r){var t=e._pos-r-1;return t<0&&(t+=e._windowSize),e._buffer[t]}function se(e,r){e._buffer[e._pos]=r,e._pos+=1,e._pos>=e._windowSize&&oe(e)}function ie(e){oe(e),e._stream=null}function _e(e){return e-=2,e<4?e:3}function ae(e){return e<4?0:e<10?e-3:e-6}function ce(e,r){return e.encoder=r,e.decoder=null,e.alive=1,e}function ue(e,r){return e.decoder=r,e.encoder=null,e.alive=1,e}function fe(e){if(!e.alive)throw new Error("bad state");if(e.encoder)throw new Error("No encoding");return me(e),e.alive}function me(e){var r=Pe(e.decoder);if(-1==r)throw new Error("corrupted input");e.inBytesProcessed=i,e.outBytesProcessed=e.decoder.nowPos64,(r||p(e.decoder.outSize,a)>=0&&p(e.decoder.nowPos64,e.decoder.outSize)>=0)&&(oe(e.decoder.m_OutWindow),ie(e.decoder.m_OutWindow),e.decoder.m_RangeDecoder.Stream=null,e.alive=0)}function de(e){if(!e.alive)throw new Error("bad state");if(!e.encoder)throw new Error("No decoding");return pe(e),e.alive}function pe(e){xe(e.encoder,e.encoder.processedInSize,e.encoder.processedOutSize,e.encoder.finished),e.inBytesProcessed=e.encoder.processedInSize[0],e.encoder.finished[0]&&(qe(e.encoder),e.alive=0)}function he(e,r,t,o){return e.m_RangeDecoder.Stream=r,ie(e.m_OutWindow),e.m_OutWindow._stream=t,ve(e),e.state=0,e.rep0=0,e.rep1=0,e.rep2=0,e.rep3=0,e.outSize=o,e.nowPos64=a,e.prevByte=0,ue({},e)}function Pe(e){var r,t,o,n,s,i;if(i=v(e.nowPos64)&e.m_PosStateMask,Cr(e.m_RangeDecoder,e.m_IsMatchDecoders,(e.state<<4)+i)){if(Cr(e.m_RangeDecoder,e.m_IsRepDecoders,e.state))o=0,Cr(e.m_RangeDecoder,e.m_IsRepG0Decoders,e.state)?(Cr(e.m_RangeDecoder,e.m_IsRepG1Decoders,e.state)?(Cr(e.m_RangeDecoder,e.m_IsRepG2Decoders,e.state)?(t=e.rep3,e.rep3=e.rep2):t=e.rep2,e.rep2=e.rep1):t=e.rep1,e.rep1=e.rep0,e.rep0=t):Cr(e.m_RangeDecoder,e.m_IsRep0LongDecoders,(e.state<<4)+i)||(e.state=e.state<7?9:11,o=1),o||(o=Re(e.m_RepLenDecoder,e.m_RangeDecoder,i)+2,e.state=e.state<7?8:11);else if(e.rep3=e.rep2,e.rep2=e.rep1,e.rep1=e.rep0,o=2+Re(e.m_LenDecoder,e.m_RangeDecoder,i),e.state=e.state<7?7:10,s=Sr(e.m_PosSlotDecoder[_e(o)],e.m_RangeDecoder),s>=4){if(n=(s>>1)-1,e.rep0=(2|1&s)<<n,s<14)e.rep0+=kr(e.m_PosDecoders,e.rep0-s-1,e.m_RangeDecoder,n);else if(e.rep0+=Lr(e.m_RangeDecoder,n-4)<<4,e.rep0+=gr(e.m_PosAlignDecoder,e.m_RangeDecoder),e.rep0<0)return-1==e.rep0?1:-1}else e.rep0=s;if(p(l(e.rep0),e.nowPos64)>=0||e.rep0>=e.m_DictionarySizeCheck)return-1;re(e.m_OutWindow,e.rep0,o),e.nowPos64=m(e.nowPos64,l(o)),e.prevByte=ne(e.m_OutWindow,0)}else r=ye(e.m_LiteralDecoder,v(e.nowPos64),e.prevByte),e.state<7?e.prevByte=Ee(r,e.m_RangeDecoder):e.prevByte=Ce(r,e.m_RangeDecoder,ne(e.m_OutWindow,e.rep0)),se(e.m_OutWindow,e.prevByte),e.state=ae(e.state),e.nowPos64=m(e.nowPos64,c);return 0}function le(e){e.m_OutWindow={},e.m_RangeDecoder={},e.m_IsMatchDecoders=f(192),e.m_IsRepDecoders=f(12),e.m_IsRepG0Decoders=f(12),e.m_IsRepG1Decoders=f(12),e.m_IsRepG2Decoders=f(12),e.m_IsRep0LongDecoders=f(192),e.m_PosSlotDecoder=f(4),e.m_PosDecoders=f(114),e.m_PosAlignDecoder=Br({},4),e.m_LenDecoder=Me({}),e.m_RepLenDecoder=Me({}),e.m_LiteralDecoder={};for(var r=0;r<4;++r)e.m_PosSlotDecoder[r]=Br({},6);return e}function ve(e){e.m_OutWindow._streamPos=0,e.m_OutWindow._pos=0,Fr(e.m_IsMatchDecoders),Fr(e.m_IsRep0LongDecoders),Fr(e.m_IsRepDecoders),Fr(e.m_IsRepG0Decoders),Fr(e.m_IsRepG1Decoders),Fr(e.m_IsRepG2Decoders),Fr(e.m_PosDecoders),we(e.m_LiteralDecoder);for(var r=0;r<4;++r)Fr(e.m_PosSlotDecoder[r].Models);be(e.m_LenDecoder),be(e.m_RepLenDecoder),Fr(e.m_PosAlignDecoder.Models),zr(e.m_RangeDecoder)}function Be(e,r){var t,o,n,s,i,_,a;if(r.length<5)return 0;for(a=255&r[0],n=a%9,_=~~(a/9),s=_%5,i=~~(_/5),t=0,o=0;o<4;++o)t+=(255&r[1+o])<<8*o;return t>99999999||!ge(e,n,s,i)?0:Se(e,t)}function Se(e,r){return r<0?0:(e.m_DictionarySize!=r&&(e.m_DictionarySize=r,e.m_DictionarySizeCheck=Math.max(e.m_DictionarySize,1),te(e.m_OutWindow,Math.max(e.m_DictionarySizeCheck,4096))),1)}function ge(e,r,t,o){if(r>8||t>4||o>4)return 0;De(e.m_LiteralDecoder,t,r);var n=1<<o;return ke(e.m_LenDecoder,n),ke(e.m_RepLenDecoder,n),e.m_PosStateMask=n-1,1}function ke(e,r){for(;e.m_NumPosStates<r;e.m_NumPosStates+=1)e.m_LowCoder[e.m_NumPosStates]=Br({},3),e.m_MidCoder[e.m_NumPosStates]=Br({},3)}function Re(e,r,t){if(!Cr(r,e.m_Choice,0))return Sr(e.m_LowCoder[t],r);var o=8;return Cr(r,e.m_Choice,1)?o+=8+Sr(e.m_HighCoder,r):o+=Sr(e.m_MidCoder[t],r),o}function Me(e){return e.m_Choice=f(2),e.m_LowCoder=f(16),e.m_MidCoder=f(16),e.m_HighCoder=Br({},8),e.m_NumPosStates=0,e}function be(e){Fr(e.m_Choice);for(var r=0;r<e.m_NumPosStates;++r)Fr(e.m_LowCoder[r].Models),Fr(e.m_MidCoder[r].Models);Fr(e.m_HighCoder.Models)}function De(e,r,t){var o,n;if(null==e.m_Coders||e.m_NumPrevBits!=t||e.m_NumPosBits!=r)for(e.m_NumPosBits=r,e.m_PosMask=(1<<r)-1,e.m_NumPrevBits=t,n=1<<e.m_NumPrevBits+e.m_NumPosBits,e.m_Coders=f(n),o=0;o<n;++o)e.m_Coders[o]=Le({})}function ye(e,r,t){return e.m_Coders[((r&e.m_PosMask)<<e.m_NumPrevBits)+((255&t)>>>8-e.m_NumPrevBits)]}function we(e){var r,t;for(t=1<<e.m_NumPrevBits+e.m_NumPosBits,r=0;r<t;++r)Fr(e.m_Coders[r].m_Decoders)}function Ee(e,r){var t=1;do{t=t<<1|Cr(r,e.m_Decoders,t)}while(t<256);return t<<24>>24}function Ce(e,r,t){var o,n,s=1;do{if(n=t>>7&1,t<<=1,o=Cr(r,e.m_Decoders,(1+n<<8)+s),s=s<<1|o,n!=o){for(;s<256;)s=s<<1|Cr(r,e.m_Decoders,s);break}}while(s<256);return s<<24>>24}function Le(e){return e.m_Decoders=f(768),e}var ze=function(){var e,r,t,o=2,n=[0,1];for(t=2;t<22;++t){var s=t;for(s>>=1,s-=1,r=1,r<<=s,e=0;e<r;++e,++o)n[o]=t<<24>>24}return n}();function Fe(e,r){var t,o,n,s;e._optimumEndIndex=r,n=e._optimum[r].PosPrev,o=e._optimum[r].BackPrev;do{e._optimum[r].Prev1IsChar&&(lr(e._optimum[n]),e._optimum[n].PosPrev=n-1,e._optimum[r].Prev2&&(e._optimum[n-1].Prev1IsChar=0,e._optimum[n-1].PosPrev=e._optimum[r].PosPrev2,e._optimum[n-1].BackPrev=e._optimum[r].BackPrev2)),s=n,t=o,o=e._optimum[s].BackPrev,n=e._optimum[s].PosPrev,e._optimum[s].BackPrev=t,e._optimum[s].PosPrev=r,r=s}while(r>0);return e.backRes=e._optimum[0].BackPrev,e._optimumCurrentIndex=e._optimum[0].PosPrev,e._optimumCurrentIndex}function Ie(e){e._state=0,e._previousByte=0;for(var r=0;r<4;++r)e._repDistances[r]=0}function xe(e,r,t,o){var n,s,i,_,u,f,d,h,B,S,g,k,R,b;if(r[0]=a,t[0]=a,o[0]=1,e._inStream&&(e._matchFinder._stream=e._inStream,J(e._matchFinder),e._needReleaseMFStream=1,e._inStream=null),!e._finished){if(e._finished=1,R=e.nowPos64,P(e.nowPos64,a)){if(!T(e._matchFinder))return void Ge(e,v(e.nowPos64));$e(e),k=v(e.nowPos64)&e._posStateMask,xr(e._rangeEncoder,e._isMatch,(e._state<<4)+k,0),e._state=ae(e._state),i=G(e._matchFinder,-e._additionalOffset),dr(fr(e._literalEncoder,v(e.nowPos64),e._previousByte),e._rangeEncoder,i),e._previousByte=i,e._additionalOffset-=1,e.nowPos64=m(e.nowPos64,c)}if(!T(e._matchFinder))return void Ge(e,v(e.nowPos64));for(;;){if(f=We(e,v(e.nowPos64)),B=e.backRes,k=v(e.nowPos64)&e._posStateMask,s=(e._state<<4)+k,1==f&&-1==B)xr(e._rangeEncoder,e._isMatch,s,0),i=G(e._matchFinder,-e._additionalOffset),b=fr(e._literalEncoder,v(e.nowPos64),e._previousByte),e._state<7?dr(b,e._rangeEncoder,i):(h=G(e._matchFinder,-e._repDistances[0]-1-e._additionalOffset),pr(b,e._rangeEncoder,h,i)),e._previousByte=i,e._state=ae(e._state);else{if(xr(e._rangeEncoder,e._isMatch,s,1),B<4){if(xr(e._rangeEncoder,e._isRep,e._state,1),B?(xr(e._rangeEncoder,e._isRepG0,e._state,1),1==B?xr(e._rangeEncoder,e._isRepG1,e._state,0):(xr(e._rangeEncoder,e._isRepG1,e._state,1),xr(e._rangeEncoder,e._isRepG2,e._state,B-2))):(xr(e._rangeEncoder,e._isRepG0,e._state,0),xr(e._rangeEncoder,e._isRep0Long,s,1==f?0:1)),1==f?e._state=e._state<7?9:11:(ir(e._repMatchLenEncoder,e._rangeEncoder,f-2,k),e._state=e._state<7?8:11),_=e._repDistances[B],0!=B){for(var D=B;D>=1;--D)e._repDistances[D]=e._repDistances[D-1];e._repDistances[0]=_}}else{xr(e._rangeEncoder,e._isRep,e._state,0),e._state=e._state<7?7:10,ir(e._lenEncoder,e._rangeEncoder,f-2,k),B-=4,g=er(B),d=_e(f),Mr(e._posSlotEncoder[d],e._rangeEncoder,g),g>=4&&(u=(g>>1)-1,n=(2|1&g)<<u,S=B-n,g<14?wr(e._posEncoders,n-g-1,e._rangeEncoder,u,S):(Nr(e._rangeEncoder,S>>4,u-4),Dr(e._posAlignEncoder,e._rangeEncoder,15&S),e._alignPriceCount+=1)),_=B;for(D=3;D>=1;--D)e._repDistances[D]=e._repDistances[D-1];e._repDistances[0]=_,e._matchPriceCount+=1}e._previousByte=G(e._matchFinder,f-1-e._additionalOffset)}if(e._additionalOffset-=f,e.nowPos64=m(e.nowPos64,l(f)),!e._additionalOffset){if(e._matchPriceCount>=128&&He(e),e._alignPriceCount>=16&&Ae(e),r[0]=e.nowPos64,t[0]=Or(e._rangeEncoder),!T(e._matchFinder))return void Ge(e,v(e.nowPos64));if(p(M(e.nowPos64,R),[4096,0])>=0)return e._finished=0,void(o[0]=0)}}}}function Ne(e){var r,t;e._matchFinder||(r={},t=4,e._matchFinderType||(t=2),X(r,t),e._matchFinder=r),ur(e._literalEncoder,e._numLiteralPosStateBits,e._numLiteralContextBits),(e._dictionarySize!=e._dictionarySizePrev||e._numFastBytesPrev!=e._numFastBytes)&&(K(e._matchFinder,e._dictionarySize,4096,e._numFastBytes,274),e._dictionarySizePrev=e._dictionarySize,e._numFastBytesPrev=e._numFastBytes)}function Oe(e){var r;for(e._repDistances=f(4),e._optimum=[],e._rangeEncoder={},e._isMatch=f(192),e._isRep=f(12),e._isRepG0=f(12),e._isRepG1=f(12),e._isRepG2=f(12),e._isRep0Long=f(192),e._posSlotEncoder=[],e._posEncoders=f(114),e._posAlignEncoder=Rr({},4),e._lenEncoder=_r({}),e._repMatchLenEncoder=_r({}),e._literalEncoder={},e._matchDistances=[],e._posSlotPrices=[],e._distancesPrices=[],e._alignPrices=f(16),e.reps=f(4),e.repLens=f(4),e.processedInSize=[a],e.processedOutSize=[a],e.finished=[0],e.properties=f(5),e.tempPrices=f(128),e._longestMatchLength=0,e._matchFinderType=1,e._numDistancePairs=0,e._numFastBytesPrev=-1,e.backRes=0,r=0;r<4096;++r)e._optimum[r]={};for(r=0;r<4;++r)e._posSlotEncoder[r]=Rr({},6);return e}function Ae(e){for(var r=0;r<16;++r)e._alignPrices[r]=yr(e._posAlignEncoder,r);e._alignPriceCount=0}function He(e){var r,t,o,n,s,i,_,a;for(n=4;n<128;++n)i=er(n),o=(i>>1)-1,r=(2|1&i)<<o,e.tempPrices[n]=Er(e._posEncoders,r-i-1,o,n-r);for(s=0;s<4;++s){for(t=e._posSlotEncoder[s],_=s<<6,i=0;i<e._distTableSize;i+=1)e._posSlotPrices[_+i]=br(t,i);for(i=14;i<e._distTableSize;i+=1)e._posSlotPrices[_+i]+=(i>>1)-1-4<<6;for(a=128*s,n=0;n<4;++n)e._distancesPrices[a+n]=e._posSlotPrices[_+n];for(;n<128;++n)e._distancesPrices[a+n]=e._posSlotPrices[_+er(n)]+e.tempPrices[n]}e._matchPriceCount=0}function Ge(e,r){Ke(e),Xe(e,r&e._posStateMask);for(var t=0;t<5;++t)Hr(e._rangeEncoder)}function We(e,r){var t,o,n,s,i,_,a,c,u,f,m,d,p,h,P,l,v,B,S,g,k,R,M,b,D,y,w,E,C,L,z,F,I,x,N,O,A,H,Y,j,V,Z,$,K,q,J,Q,U,X,ee;if(e._optimumEndIndex!=e._optimumCurrentIndex)return p=e._optimum[e._optimumCurrentIndex].PosPrev-e._optimumCurrentIndex,e.backRes=e._optimum[e._optimumCurrentIndex].BackPrev,e._optimumCurrentIndex=e._optimum[e._optimumCurrentIndex].PosPrev,p;if(e._optimumCurrentIndex=e._optimumEndIndex=0,e._longestMatchWasFound?(d=e._longestMatchLength,e._longestMatchWasFound=0):d=$e(e),w=e._numDistancePairs,D=T(e._matchFinder)+1,D<2)return e.backRes=-1,1;for(D>273&&(D=273),j=0,u=0;u<4;++u)e.reps[u]=e._repDistances[u],e.repLens[u]=W(e._matchFinder,-1,e.reps[u],273),e.repLens[u]>e.repLens[j]&&(j=u);if(e.repLens[j]>=e._numFastBytes)return e.backRes=j,p=e.repLens[j],Ze(e,p-1),p;if(d>=e._numFastBytes)return e.backRes=e._matchDistances[w-1]+4,Ze(e,d-1),d;if(a=G(e._matchFinder,-1),v=G(e._matchFinder,-e._repDistances[0]-1-1),d<2&&a!=v&&e.repLens[j]<2)return e.backRes=-1,1;if(e._optimum[0].State=e._state,x=r&e._posStateMask,e._optimum[1].Price=Ir[e._isMatch[(e._state<<4)+x]>>>2]+Pr(fr(e._literalEncoder,r,e._previousByte),e._state>=7,v,a),lr(e._optimum[1]),B=Ir[2048-e._isMatch[(e._state<<4)+x]>>>2],Y=B+Ir[2048-e._isRep[e._state]>>>2],v==a&&(V=Y+je(e,e._state,x),V<e._optimum[1].Price&&(e._optimum[1].Price=V,vr(e._optimum[1]))),m=d>=e.repLens[j]?d:e.repLens[j],m<2)return e.backRes=e._optimum[1].BackPrev,1;e._optimum[1].PosPrev=0,e._optimum[0].Backs0=e.reps[0],e._optimum[0].Backs1=e.reps[1],e._optimum[0].Backs2=e.reps[2],e._optimum[0].Backs3=e.reps[3],f=m;do{e._optimum[f].Price=268435455,f-=1}while(f>=2);for(u=0;u<4;++u)if(H=e.repLens[u],!(H<2)){O=Y+Ye(e,u,e._state,x);do{s=O+ar(e._repMatchLenEncoder,H-2,x),z=e._optimum[H],s<z.Price&&(z.Price=s,z.PosPrev=0,z.BackPrev=u,z.Prev1IsChar=0)}while((H-=1)>=2)}if(b=B+Ir[e._isRep[e._state]>>>2],f=e.repLens[0]>=2?e.repLens[0]+1:2,f<=d){for(E=0;f>e._matchDistances[E];)E+=2;for(;c=e._matchDistances[E+1],s=b+Te(e,c,f,x),z=e._optimum[f],s<z.Price&&(z.Price=s,z.PosPrev=0,z.BackPrev=c+4,z.Prev1IsChar=0),f!=e._matchDistances[E]||(E+=2,E!=w);f+=1);}for(t=0;;){if(++t,t==m)return Fe(e,t);if(S=$e(e),w=e._numDistancePairs,S>=e._numFastBytes)return e._longestMatchLength=S,e._longestMatchWasFound=1,Fe(e,t);if(r+=1,I=e._optimum[t].PosPrev,e._optimum[t].Prev1IsChar?(I-=1,e._optimum[t].Prev2?($=e._optimum[e._optimum[t].PosPrev2].State,$=e._optimum[t].BackPrev2<4?$<7?8:11:$<7?7:10):$=e._optimum[I].State,$=ae($)):$=e._optimum[I].State,I==t-1?$=e._optimum[t].BackPrev?ae($):$<7?9:11:(e._optimum[t].Prev1IsChar&&e._optimum[t].Prev2?(I=e._optimum[t].PosPrev2,F=e._optimum[t].BackPrev2,$=$<7?8:11):(F=e._optimum[t].BackPrev,$=F<4?$<7?8:11:$<7?7:10),L=e._optimum[I],F<4?F?1==F?(e.reps[0]=L.Backs1,e.reps[1]=L.Backs0,e.reps[2]=L.Backs2,e.reps[3]=L.Backs3):2==F?(e.reps[0]=L.Backs2,e.reps[1]=L.Backs0,e.reps[2]=L.Backs1,e.reps[3]=L.Backs3):(e.reps[0]=L.Backs3,e.reps[1]=L.Backs0,e.reps[2]=L.Backs1,e.reps[3]=L.Backs2):(e.reps[0]=L.Backs0,e.reps[1]=L.Backs1,e.reps[2]=L.Backs2,e.reps[3]=L.Backs3):(e.reps[0]=F-4,e.reps[1]=L.Backs0,e.reps[2]=L.Backs1,e.reps[3]=L.Backs2)),e._optimum[t].State=$,e._optimum[t].Backs0=e.reps[0],e._optimum[t].Backs1=e.reps[1],e._optimum[t].Backs2=e.reps[2],e._optimum[t].Backs3=e.reps[3],_=e._optimum[t].Price,a=G(e._matchFinder,-1),v=G(e._matchFinder,-e.reps[0]-1-1),x=r&e._posStateMask,o=_+Ir[e._isMatch[($<<4)+x]>>>2]+Pr(fr(e._literalEncoder,r,G(e._matchFinder,-2)),$>=7,v,a),R=e._optimum[t+1],g=0,o<R.Price&&(R.Price=o,R.PosPrev=t,R.BackPrev=-1,R.Prev1IsChar=0,g=1),B=_+Ir[2048-e._isMatch[($<<4)+x]>>>2],Y=B+Ir[2048-e._isRep[$]>>>2],v==a&&!(R.PosPrev<t&&!R.BackPrev)&&(V=Y+(Ir[e._isRepG0[$]>>>2]+Ir[e._isRep0Long[($<<4)+x]>>>2]),V<=R.Price&&(R.Price=V,R.PosPrev=t,R.BackPrev=0,R.Prev1IsChar=0,g=1)),y=T(e._matchFinder)+1,y=4095-t<y?4095-t:y,D=y,!(D<2)){if(D>e._numFastBytes&&(D=e._numFastBytes),!g&&v!=a&&(q=Math.min(y-1,e._numFastBytes),P=W(e._matchFinder,0,e.reps[0],q),P>=2)){for(K=ae($),N=r+1&e._posStateMask,M=o+Ir[2048-e._isMatch[(K<<4)+N]>>>2]+Ir[2048-e._isRep[K]>>>2],C=t+1+P;m<C;)e._optimum[m+=1].Price=268435455;s=M+(J=ar(e._repMatchLenEncoder,P-2,N),J+Ye(e,0,K,N)),z=e._optimum[C],s<z.Price&&(z.Price=s,z.PosPrev=t+1,z.BackPrev=0,z.Prev1IsChar=1,z.Prev2=0)}for(Z=2,A=0;A<4;++A)if(h=W(e._matchFinder,-1,e.reps[A],D),!(h<2)){l=h;do{for(;m<t+h;)e._optimum[m+=1].Price=268435455;s=Y+(Q=ar(e._repMatchLenEncoder,h-2,x),Q+Ye(e,A,$,x)),z=e._optimum[t+h],s<z.Price&&(z.Price=s,z.PosPrev=t,z.BackPrev=A,z.Prev1IsChar=0)}while((h-=1)>=2);if(h=l,A||(Z=h+1),h<y&&(q=Math.min(y-1-h,e._numFastBytes),P=W(e._matchFinder,h,e.reps[A],q),P>=2)){for(K=$<7?8:11,N=r+h&e._posStateMask,n=Y+(U=ar(e._repMatchLenEncoder,h-2,x),U+Ye(e,A,$,x))+Ir[e._isMatch[(K<<4)+N]>>>2]+Pr(fr(e._literalEncoder,r+h,G(e._matchFinder,h-1-1)),1,G(e._matchFinder,h-1-(e.reps[A]+1)),G(e._matchFinder,h-1)),K=ae(K),N=r+h+1&e._posStateMask,k=n+Ir[2048-e._isMatch[(K<<4)+N]>>>2],M=k+Ir[2048-e._isRep[K]>>>2],C=h+1+P;m<t+C;)e._optimum[m+=1].Price=268435455;s=M+(X=ar(e._repMatchLenEncoder,P-2,N),X+Ye(e,0,K,N)),z=e._optimum[t+C],s<z.Price&&(z.Price=s,z.PosPrev=t+h+1,z.BackPrev=0,z.Prev1IsChar=1,z.Prev2=1,z.PosPrev2=t,z.BackPrev2=A)}}if(S>D){for(S=D,w=0;S>e._matchDistances[w];w+=2);e._matchDistances[w]=S,w+=2}if(S>=Z){for(b=B+Ir[e._isRep[$]>>>2];m<t+S;)e._optimum[m+=1].Price=268435455;for(E=0;Z>e._matchDistances[E];)E+=2;for(h=Z;;h+=1)if(i=e._matchDistances[E+1],s=b+Te(e,i,h,x),z=e._optimum[t+h],s<z.Price&&(z.Price=s,z.PosPrev=t,z.BackPrev=i+4,z.Prev1IsChar=0),h==e._matchDistances[E]){if(h<y&&(q=Math.min(y-1-h,e._numFastBytes),P=W(e._matchFinder,h,i,q),P>=2)){for(K=$<7?7:10,N=r+h&e._posStateMask,n=s+Ir[e._isMatch[(K<<4)+N]>>>2]+Pr(fr(e._literalEncoder,r+h,G(e._matchFinder,h-1-1)),1,G(e._matchFinder,h-(i+1)-1),G(e._matchFinder,h-1)),K=ae(K),N=r+h+1&e._posStateMask,k=n+Ir[2048-e._isMatch[(K<<4)+N]>>>2],M=k+Ir[2048-e._isRep[K]>>>2],C=h+1+P;m<t+C;)e._optimum[m+=1].Price=268435455;s=M+(ee=ar(e._repMatchLenEncoder,P-2,N),ee+Ye(e,0,K,N)),z=e._optimum[t+C],s<z.Price&&(z.Price=s,z.PosPrev=t+h+1,z.BackPrev=0,z.Prev1IsChar=1,z.Prev2=1,z.PosPrev2=t,z.BackPrev2=i+4)}if(E+=2,E==w)break}}}}}function Te(e,r,t,o){var n,s=_e(t);return n=r<128?e._distancesPrices[128*s+r]:e._posSlotPrices[(s<<6)+rr(r)]+e._alignPrices[15&r],n+ar(e._lenEncoder,t-2,o)}function Ye(e,r,t,o){var n;return r?(n=Ir[2048-e._isRepG0[t]>>>2],1==r?n+=Ir[e._isRepG1[t]>>>2]:(n+=Ir[2048-e._isRepG1[t]>>>2],n+=Gr(e._isRepG2[t],r-2))):(n=Ir[e._isRepG0[t]>>>2],n+=Ir[2048-e._isRep0Long[(t<<4)+o]>>>2]),n}function je(e,r,t){return Ir[e._isRepG0[r]>>>2]+Ir[e._isRep0Long[(r<<4)+t]>>>2]}function Ve(e){Ie(e),Ar(e._rangeEncoder),Fr(e._isMatch),Fr(e._isRep0Long),Fr(e._isRep),Fr(e._isRepG0),Fr(e._isRepG1),Fr(e._isRepG2),Fr(e._posEncoders),mr(e._literalEncoder);for(var r=0;r<4;++r)Fr(e._posSlotEncoder[r].Models);nr(e._lenEncoder,1<<e._posStateBits),nr(e._repMatchLenEncoder,1<<e._posStateBits),Fr(e._posAlignEncoder.Models),e._longestMatchWasFound=0,e._optimumEndIndex=0,e._optimumCurrentIndex=0,e._additionalOffset=0}function Ze(e,r){r>0&&(ee(e._matchFinder,r),e._additionalOffset+=r)}function $e(e){var r=0;return e._numDistancePairs=q(e._matchFinder,e._matchDistances),e._numDistancePairs>0&&(r=e._matchDistances[e._numDistancePairs-2],r==e._numFastBytes&&(r+=W(e._matchFinder,r-1,e._matchDistances[e._numDistancePairs-1],273-r))),e._additionalOffset+=1,r}function Ke(e){e._matchFinder&&e._needReleaseMFStream&&(e._matchFinder._stream=null,e._needReleaseMFStream=0)}function qe(e){Ke(e),e._rangeEncoder.Stream=null}function Je(e,r){e._dictionarySize=r;for(var t=0;r>1<<t;++t);e._distTableSize=2*t}function Qe(e,r){var t=e._matchFinderType;e._matchFinderType=r,e._matchFinder&&t!=e._matchFinderType&&(e._dictionarySizePrev=-1,e._matchFinder=null)}function Ue(e,r){e.properties[0]=9*(5*e._posStateBits+e._numLiteralPosStateBits)+e._numLiteralContextBits<<24>>24;for(var t=0;t<4;++t)e.properties[1+t]=e._dictionarySize>>8*t<<24>>24;L(r,e.properties,0,5)}function Xe(e,r){xr(e._rangeEncoder,e._isMatch,(e._state<<4)+r,1),xr(e._rangeEncoder,e._isRep,e._state,0),e._state=e._state<7?7:10,ir(e._lenEncoder,e._rangeEncoder,0,r);var t=_e(2);Mr(e._posSlotEncoder[t],e._rangeEncoder,63),Nr(e._rangeEncoder,67108863,26),Dr(e._posAlignEncoder,e._rangeEncoder,15)}function er(e){return e<2048?ze[e]:e<2097152?ze[e>>10]+20:ze[e>>20]+40}function rr(e){return e<131072?ze[e>>6]+12:e<134217728?ze[e>>16]+32:ze[e>>26]+52}function tr(e,r,t,o){t<8?(xr(r,e._choice,0,0),Mr(e._lowCoder[o],r,t)):(t-=8,xr(r,e._choice,0,1),t<8?(xr(r,e._choice,1,0),Mr(e._midCoder[o],r,t)):(xr(r,e._choice,1,1),Mr(e._highCoder,r,t-8)))}function or(e){e._choice=f(2),e._lowCoder=f(16),e._midCoder=f(16),e._highCoder=Rr({},8);for(var r=0;r<16;++r)e._lowCoder[r]=Rr({},3),e._midCoder[r]=Rr({},3);return e}function nr(e,r){Fr(e._choice);for(var t=0;t<r;++t)Fr(e._lowCoder[t].Models),Fr(e._midCoder[t].Models);Fr(e._highCoder.Models)}function sr(e,r,t,o,n){var s,i,_,a,c;for(s=Ir[e._choice[0]>>>2],i=Ir[2048-e._choice[0]>>>2],_=i+Ir[e._choice[1]>>>2],a=i+Ir[2048-e._choice[1]>>>2],c=0,c=0;c<8;++c){if(c>=t)return;o[n+c]=s+br(e._lowCoder[r],c)}for(;c<16;++c){if(c>=t)return;o[n+c]=_+br(e._midCoder[r],c-8)}for(;c<t;++c)o[n+c]=a+br(e._highCoder,c-8-8)}function ir(e,r,t,o){tr(e,r,t,o),0==(e._counters[o]-=1)&&(sr(e,o,e._tableSize,e._prices,272*o),e._counters[o]=e._tableSize)}function _r(e){return or(e),e._prices=[],e._counters=[],e}function ar(e,r,t){return e._prices[272*t+r]}function cr(e,r){for(var t=0;t<r;++t)sr(e,t,e._tableSize,e._prices,272*t),e._counters[t]=e._tableSize}function ur(e,r,t){var o,n;if(null==e.m_Coders||e.m_NumPrevBits!=t||e.m_NumPosBits!=r)for(e.m_NumPosBits=r,e.m_PosMask=(1<<r)-1,e.m_NumPrevBits=t,n=1<<e.m_NumPrevBits+e.m_NumPosBits,e.m_Coders=f(n),o=0;o<n;++o)e.m_Coders[o]=hr({})}function fr(e,r,t){return e.m_Coders[((r&e.m_PosMask)<<e.m_NumPrevBits)+((255&t)>>>8-e.m_NumPrevBits)]}function mr(e){var r,t=1<<e.m_NumPrevBits+e.m_NumPosBits;for(r=0;r<t;++r)Fr(e.m_Coders[r].m_Encoders)}function dr(e,r,t){var o,n,s=1;for(n=7;n>=0;--n)o=t>>n&1,xr(r,e.m_Encoders,s,o),s=s<<1|o}function pr(e,r,t,o){var n,s,i,_,a=1,c=1;for(s=7;s>=0;--s)n=o>>s&1,_=c,a&&(i=t>>s&1,_+=1+i<<8,a=i==n),xr(r,e.m_Encoders,_,n),c=c<<1|n}function hr(e){return e.m_Encoders=f(768),e}function Pr(e,r,t,o){var n,s,i=1,_=7,a=0;if(r)for(;_>=0;--_)if(s=t>>_&1,n=o>>_&1,a+=Gr(e.m_Encoders[(1+s<<8)+i],n),i=i<<1|n,s!=n){--_;break}for(;_>=0;--_)n=o>>_&1,a+=Gr(e.m_Encoders[i],n),i=i<<1|n;return a}function lr(e){e.BackPrev=-1,e.Prev1IsChar=0}function vr(e){e.BackPrev=0,e.Prev1IsChar=0}function Br(e,r){return e.NumBitLevels=r,e.Models=f(1<<r),e}function Sr(e,r){var t,o=1;for(t=e.NumBitLevels;0!=t;t-=1)o=(o<<1)+Cr(r,e.Models,o);return o-(1<<e.NumBitLevels)}function gr(e,r){var t,o,n=1,s=0;for(o=0;o<e.NumBitLevels;++o)t=Cr(r,e.Models,n),n<<=1,n+=t,s|=t<<o;return s}function kr(e,r,t,o){var n,s,i=1,_=0;for(s=0;s<o;++s)n=Cr(t,e,r+i),i<<=1,i+=n,_|=n<<s;return _}function Rr(e,r){return e.NumBitLevels=r,e.Models=f(1<<r),e}function Mr(e,r,t){var o,n,s=1;for(n=e.NumBitLevels;0!=n;)n-=1,o=t>>>n&1,xr(r,e.Models,s,o),s=s<<1|o}function br(e,r){var t,o,n=1,s=0;for(o=e.NumBitLevels;0!=o;)o-=1,t=r>>>o&1,s+=Gr(e.Models[n],t),n=(n<<1)+t;return s}function Dr(e,r,t){var o,n,s=1;for(n=0;n<e.NumBitLevels;++n)o=1&t,xr(r,e.Models,s,o),s=s<<1|o,t>>=1}function yr(e,r){var t,o,n=1,s=0;for(o=e.NumBitLevels;0!=o;o-=1)t=1&r,r>>>=1,s+=Gr(e.Models[n],t),n=n<<1|t;return s}function wr(e,r,t,o,n){var s,i,_=1;for(i=0;i<o;++i)s=1&n,xr(t,e,r+_,s),_=_<<1|s,n>>=1}function Er(e,r,t,o){var n,s,i=1,_=0;for(s=t;0!=s;s-=1)n=1&o,o>>>=1,_+=Ir[(2047&(e[r+i]-n^-n))>>>2],i=i<<1|n;return _}function Cr(e,r,t){var o,n=r[t];return o=(e.Range>>>11)*n,(-2147483648^e.Code)<(-2147483648^o)?(e.Range=o,r[t]=n+(2048-n>>>5)<<16>>16,-16777216&e.Range||(e.Code=e.Code<<8|D(e.Stream),e.Range<<=8),0):(e.Range-=o,e.Code-=o,r[t]=n-(n>>>5)<<16>>16,-16777216&e.Range||(e.Code=e.Code<<8|D(e.Stream),e.Range<<=8),1)}function Lr(e,r){var t,o,n=0;for(t=r;0!=t;t-=1)e.Range>>>=1,o=e.Code-e.Range>>>31,e.Code-=e.Range&o-1,n=n<<1|1-o,-16777216&e.Range||(e.Code=e.Code<<8|D(e.Stream),e.Range<<=8);return n}function zr(e){e.Code=0,e.Range=-1;for(var r=0;r<5;++r)e.Code=e.Code<<8|D(e.Stream)}function Fr(e){for(var r=e.length-1;r>=0;--r)e[r]=1024}var Ir=function(){var e,r,t,o,n=[];for(r=8;r>=0;--r)for(o=1,o<<=9-r-1,e=1,e<<=9-r,t=o;t<e;++t)n[t]=(r<<6)+(e-t<<6>>>9-r-1);return n}();function xr(e,r,t,o){var n,s=r[t];n=(e.Range>>>11)*s,o?(e.Low=m(e.Low,d(l(n),[4294967295,0])),e.Range-=n,r[t]=s-(s>>>5)<<16>>16):(e.Range=n,r[t]=s+(2048-s>>>5)<<16>>16),-16777216&e.Range||(e.Range<<=8,Hr(e))}function Nr(e,r,t){for(var o=t-1;o>=0;o-=1)e.Range>>>=1,1==(r>>>o&1)&&(e.Low=m(e.Low,l(e.Range))),-16777216&e.Range||(e.Range<<=8,Hr(e))}function Or(e){return m(m(l(e._cacheSize),e._position),[4,0])}function Ar(e){e._position=a,e.Low=a,e.Range=-1,e._cacheSize=1,e._cache=0}function Hr(e){var r,t=v(R(e.Low,32));if(0!=t||p(e.Low,[4278190080,0])<0){e._position=m(e._position,l(e._cacheSize)),r=e._cache;do{C(e.Stream,r+t),r=255}while(0!=(e._cacheSize-=1));e._cache=v(e.Low)>>>24}e._cacheSize+=1,e.Low=g(d(e.Low,[16777215,0]),8)}function Gr(e,r){return Ir[(2047&(e-r^-r))>>>2]}function Wr(e){for(var r,t,o,n=0,s=0,i=e.length,_=[],a=[];n<i;++n,++s){if(r=255&e[n],128&r)if(192==(224&r)){if(n+1>=i||(t=255&e[++n],128!=(192&t)))return e;a[s]=(31&r)<<6|63&t}else{if(224!=(240&r))return e;if(n+2>=i||(t=255&e[++n],128!=(192&t))||(o=255&e[++n],128!=(192&o)))return e;a[s]=(15&r)<<12|(63&t)<<6|63&o}else{if(!r)return e;a[s]=r}16383==s&&(_.push(String.fromCharCode.apply(String,a)),s=-1)}return s>0&&(a.length=s,_.push(String.fromCharCode.apply(String,a))),_.join("")}function Tr(e){var r,t,o,n=[],s=0,i=e.length;if("object"==typeof e)return e;for(z(e,0,i,n,0),o=0;o<i;++o)r=n[o],r>=1&&r<=127?++s:s+=!r||r>=128&&r<=2047?2:3;for(t=[],s=0,o=0;o<i;++o)r=n[o],r>=1&&r<=127?t[s++]=r<<24>>24:!r||r>=128&&r<=2047?(t[s++]=(192|r>>6&31)<<24>>24,t[s++]=(128|63&r)<<24>>24):(t[s++]=(224|r>>12&15)<<24>>24,t[s++]=(128|r>>6&63)<<24>>24,t[s++]=(128|63&r)<<24>>24);return t}function Yr(e){return e[1]+e[0]}function jr(e,t,o,s){var i,_,a={},c="undefined"==typeof o&&"undefined"==typeof s;if("function"!=typeof o&&(_=o,o=s=0),s=s||function(e){if("undefined"!=typeof _)return u(e,_)},o=o||function(e,t){if("undefined"!=typeof _)return postMessage({action:r,cbn:_,result:e,error:t})},c){for(a.c=N({},Tr(e),Zr(t));de(a.c.chunker););return E(a.c.output)}try{a.c=N({},Tr(e),Zr(t)),s(0)}catch(m){return o(null,m)}function f(){try{for(var e,r=(new Date).getTime();de(a.c.chunker);)if(i=Yr(a.c.chunker.inBytesProcessed)/Yr(a.c.length_0),(new Date).getTime()-r>200)return s(i),n(f,0),0;s(1),e=E(a.c.output),n(o.bind(null,e),0)}catch(t){o(null,t)}}n(f,0)}function Vr(e,r,o){var s,i,_,a,c={},f="undefined"==typeof r&&"undefined"==typeof o;if("function"!=typeof r&&(i=r,r=o=0),o=o||function(e){if("undefined"!=typeof i)return u(_?e:-1,i)},r=r||function(e,r){if("undefined"!=typeof i)return postMessage({action:t,cbn:i,result:e,error:r})},f){for(c.d=A({},e);fe(c.d.chunker););return Wr(E(c.d.output))}try{c.d=A({},e),a=Yr(c.d.length_0),_=a>-1,o(0)}catch(d){return r(null,d)}function m(){try{for(var e,t=0,i=(new Date).getTime();fe(c.d.chunker);)if(++t%1e3==0&&(new Date).getTime()-i>200)return _&&(s=Yr(c.d.chunker.decoder.nowPos64)/a,o(s)),n(m,0),0;o(1),e=Wr(E(c.d.output)),n(r.bind(null,e),0)}catch(u){r(null,u)}}n(m,0)}var Zr=function(){var e=[{s:16,f:64,m:0},{s:20,f:64,m:0},{s:19,f:64,m:1},{s:20,f:64,m:1},{s:21,f:128,m:1},{s:22,f:128,m:1},{s:23,f:128,m:1},{s:24,f:255,m:1},{s:25,f:255,m:1}];return function(r){return e[r-1]||e[6]}}(),$r=function(){};$r.compress=jr,$r.decompress=Vr,$r.prototype.compress=jr,$r.prototype.decompress=Vr;var Kr=$r;"undefined"!=typeof self&&"importScripts"in self&&addEventListener("message",(function(e){e.data.action==r?jr(e.data.data,e.data.mode,e.data.cbn):e.data.action==t&&Vr(e.data.data,e.data.cbn)})),e.LZMA=$r,e.LZMA_WORKER=Kr,e.compress=jr,e.decompress=Vr,Object.defineProperty(e,"__esModule",{value:!0})}));